package fr.unice.polytech.qgl.qaf.json.reply;

import org.json.JSONObject;
import org.junit.Before;
import org.junit.Test;

import static org.junit.Assert.*;

public class ExploitReplyTest {
    private ExploitReply exploitReply;
    private ExploitReply badExploitReply;

    @Before
    public void defineContext() {
        JSONObject exploitReplyJSON = new JSONObject();
        exploitReplyJSON.put("cost", 3);
        JSONObject extrasJSON = new JSONObject();
        extrasJSON.put("amount", 9);
        exploitReplyJSON.put("extras", extrasJSON.toString());

        exploitReply = new ExploitReply(exploitReplyJSON.toString());

        JSONObject badexploitReplyJSON = new JSONObject();
        badexploitReplyJSON.put("costs", 3);
        JSONObject badextrasJSON = new JSONObject();
        badextrasJSON.put("amounte", 9);
        badexploitReplyJSON.put("extras", badextrasJSON.toString());

        badExploitReply = new ExploitReply(badexploitReplyJSON.toString());


    }

    @Test
    public void testParseObject() {
        assertEquals(exploitReply.getCost(), 3);
        assertEquals(exploitReply.getAmount(), 9);

        assertEquals(badExploitReply.getCost(), 0);
        assertEquals(badExploitReply.getAmount(), 0);
    }
}
